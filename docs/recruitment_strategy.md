# AI 驱动的动态 RSI 交易策略与自动化方案（招募材料）

## 1. 项目背景与目标
- 标的：红利低波 ETF (512890)，可扩展至多标的。
- 目标：用 AI/ML 自动生成与筛选动量-回归因子，形成波动自适应的动态 RSI 策略，在控制回撤的前提下提升风险调整收益，并通过自动化框架接入海豚科技 API 完成行情获取与模拟盘下单。

## 2. 策略逻辑与公式
- 基础因子：RSI，窗口 15（可调）；波动窗口 47（用于阈值自适应）。
- 动态阈值（示例参数：b0=32, s0=77, k≈-0.43, v0=15，裁剪区间买 20–50、卖 60–90）：
  - 低阈值：b(v) = clip(b0 + k * (v - v0), 20, 50)
  - 高阈值：s(v) = clip(s0 - k * (v - v0), 60, 90)
- 交易规则：
  - 买入/加仓：RSI < b(v)，若波动低且成交额充足，可分层加仓。
  - 减仓/平仓：RSI > s(v) 分批；极端波动时收紧卖线。
  - 不交易：数据缺口、流动性不足、极端波动分位。

## 3. AI 应用方式
- 因子生成与筛选：随机特征搜索 + 网格/贝叶斯优化，覆盖动量、波动斜率、偏度/峰度、成交额占比等；用 LightGBM/随机森林打分，SHAP 解释剔除不稳定/冗余因子。
- 参数自适应：以信息比/夏普并约束回撤为目标，对 b0, s0, k, v0, 窗口长度做贝叶斯优化或步进式前向验证。
- 稳健性验证：滚动/步进回测、前向分析、价格扰动+滑点/延迟蒙特卡洛，检测过拟合与执行敏感度。

## 4. 风控方法
- 仓位与杠杆：目标波动仓位 sizing；单标的、行业、总资产占用上限。
- 止损/止盈：分段止盈 + 跟踪止损；遇极端波动自动收紧阈值。
- 流动性与滑点：下单不超过过去 N 分钟成交额的固定比例；盘口/历史冲击成本校准滑点模型。
- 异常与降级：行情缺口/延迟/跳价 → 降频或只读；订单拒单率、延迟分布监控与告警。

## 5. 调研与回测依据（2025-12-12 截止，初始 100,000）
- 动态 RSI 策略：总收益 286.40%，年化 21.63%，最大回撤 13.11%，交易 12 笔，胜率 100%。
- 固定阈值 RSI 最优参考（RSI14 34/78）：总收益 203.96%，年化 17.47%，最大回撤 13.10%。
- 买入持有：总收益 133.86%，年化 13.09%，最大回撤 16.57%。
- 其他策略基准：MA 20/60 年化 0.97%，MACD 年化 12.01%，KDJ 年化 7.26%。
- 结论：动态阈值显著提升收益与信息比，并保持与基准相近的回撤水平；胜率和持仓分布在阈值自适应下更均衡。

## 6. 技术架构（海豚科技接入）
- 数据层：海豚 REST/WebSocket 行情客户端；K 线/Tick 标准化，时钟校准与缺口填充，本地缓存。
- 特征层：滚动特征（RSI15、vol47、skew/kurtosis、turnover、波动斜率等）实时更新。
- 信号层：动态 RSI 阈值逻辑 + 因子打分融合，输出方向、目标仓位、置信度。
- 风控层：仓位/资金/流动性/单日 VaR 检查；止损止盈和不交易区控制；滑点/延迟仿真。
- 执行层：模拟盘下单封装（限价/冰山），重试与容错；订单回执与成交跟踪。
- 监控层：PNL、回撤、成交率、拒单率、延迟、因子贡献可视化与告警。

## 7. 自动化程序框架（建议模块）
- data_feed：海豚行情拉取/订阅，数据质检（缺口、跳价、时钟漂移）。
- features：滚动计算 RSI、波动、偏度/峰度、成交额占比等，输出特征表。
- signals：动态阈值策略 + 因子融合，生成方向/目标仓位/置信度。
- risk：仓位、资金、流动性、VaR 检查；止损/止盈与不交易区。
- exec：下单路由（mode="paper"），滑点/延迟仿真，重试与幂等。
- monitor：指标上报（PNL、回撤、成交率、延迟、拒单率、因子贡献）、告警。

### 伪代码示例
```python
# 数据拉取
quotes = dolphin.fetch_quotes(symbols, start, end, freq="1m")

# 特征计算
feats = compute_features(quotes)  # rsi15, vol47, skew, kurtosis, turnover

# 信号生成
signal = generate_signal(feats, params={
    "b0": 32, "s0": 77, "k": -0.43, "v0": 15,
    "rsi_window": 15, "vol_window": 47
})

# 风控检查
if risk_checks(signal, portfolio_state):
    order = build_order(symbol, signal, mode="paper")
    exec_result = place_order(order)
    log(exec_result)

# 监控与告警
metrics = collect_metrics(portfolio_state, exec_result)
monitor.push(metrics)
```

## 8. 监控与指标
- 绩效：年化、夏普/信息比、最大回撤、卡玛比、胜率、盈亏比、持仓时长分布。
- 交易质量：滑点、成交率、拒单率、延迟分布。
- 风险：单标的/行业敞口、资金占用、极端日损；场景压测与扰动敏感度。

## 9. 里程碑
- 第 1 周：接通海豚行情与模拟盘 API；完成数据标准化与基础特征。
- 第 2 周：实现动态 RSI 信号、基础风控，端到端模拟盘跑通。
- 第 3 周：因子生成+筛选（树模型+SHAP），前向回测与稳健性测试。
- 第 4 周：监控面板与告警，滑点/延迟校准，提交演示报告。

## 10. 附录（可按需补充）
- API 调用节奏与错误重试策略。
- 参数表：窗口、阈值、风控限额、滑点假设。
- 数据质检规则：缺口、跳价、时钟漂移。
- 密钥管理与访问控制。
